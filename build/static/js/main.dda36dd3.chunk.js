(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,function(e,t,a){e.exports={"cart-item":"CartItem_cart-item__1Ictq",summary:"CartItem_summary__3A2t1",price:"CartItem_price__1IA7p",amount:"CartItem_amount__uBsIr",actions:"CartItem_actions__1MAK7"}},function(e,t,a){e.exports={"cart-items":"Cart_cart-items__1IenD",total:"Cart_total__1awdK",actions:"Cart_actions__12mAP","button--alt":"Cart_button--alt__Dg7bH",button:"Cart_button__YlAZl"}},,,function(e,t,a){e.exports={button:"HeaderCartButton_button__3lQoh",icon:"HeaderCartButton_icon__2GTEJ",badge:"HeaderCartButton_badge__1rPBu",bump:"HeaderCartButton_bump__2dm6D"}},,function(e,t,a){e.exports={pizza:"PizzaItem_pizza__1L9ls",description:"PizzaItem_description__24fM1",price:"PizzaItem_price__25Fad"}},function(e,t,a){e.exports={backdrop:"Modal_backdrop__18YUG",modal:"Modal_modal__3Y_tN","slide-down":"Modal_slide-down__1AzdF"}},,function(e,t,a){e.exports={header:"Header_header__bXAB6","main-image":"Header_main-image__2aBzB"}},,function(e,t,a){e.exports={card:"Card_card__3naz8"}},function(e,t,a){e.exports={input:"Input_input__rN6Jg"}},function(e,t,a){e.exports={form:"PizzaItemForm_form__Ktu70"}},function(e,t,a){e.exports={pizzas:"PizzasMenu_pizzas__1sGu9","pizzas-appear":"PizzasMenu_pizzas-appear__1LyV2"}},function(e,t,a){e.exports={summary:"PizzasSummary_summary__dQTOR"}},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(6),i=a.n(n),c=(a(24),a(3)),r=a(1),o=a.n(r),s=a(0),l=function(){return Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(s.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},m=o.a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){}}),d=a(8),u=a.n(d),j=function(e){var t=Object(r.useState)(!1),a=Object(c.a)(t,2),n=a[0],i=a[1],o=Object(r.useContext)(m),d=o.items.reduce((function(e,t){return e+t.amount}),0),j=o.items,p="".concat(u.a.button," ").concat(n?u.a.bump:"");return Object(r.useEffect)((function(){if(0!==j.length){var e=i(!1);return setTimeout((function(){i(!1)}),300),function(){clearTimeout(e)}}}),[j]),Object(s.jsxs)("button",{className:p,onClick:e.onClick,children:[Object(s.jsx)("span",{className:u.a.icon,children:Object(s.jsx)(l,{})}),Object(s.jsx)("span",{children:"Your Cart"}),Object(s.jsx)("span",{className:u.a.badge,children:d})]})},p=a(13),b=a.n(p),O=function(e){return Object(s.jsxs)(o.a.Fragment,{children:[Object(s.jsxs)("header",{className:b.a.header,children:[Object(s.jsx)("h1",{children:"Pizzeria Italiana"}),Object(s.jsx)(j,{onClick:e.onShowCart})]}),Object(s.jsx)("div",{className:b.a["main-image"]})]})},x=a(15),h=a.n(x),_=function(e){return Object(s.jsx)("div",{className:"".concat(h.a.card," ").concat(e.className),children:e.children})},f=a(2),z=a(16),v=a.n(z),C=o.a.forwardRef((function(e,t){return Object(s.jsxs)("div",{className:v.a.input,children:[Object(s.jsx)("label",{htmlFor:e.input.id,children:e.label}),Object(s.jsx)("input",Object(f.a)({ref:t},e.input))]})})),N=a(17),A=a.n(N),I=function(e){var t=Object(r.useState)(!0),a=Object(c.a)(t,2),n=a[0],i=a[1],o=Object(r.useRef)();return Object(s.jsxs)("form",{className:A.a.form,onSubmit:function(t){t.preventDefault();var a=o.current.value,n=Number(a);0===a.trim().length||n<1||n>5?i(!1):e.onAddToCart(n)},children:[Object(s.jsx)(C,{ref:o,label:"Amount",input:{id:"amount_"+e.id,type:"number",min:"1",max:"5",step:"1",defaultValue:"1"}}),Object(s.jsx)("button",{children:"+ Add"}),!n&&Object(s.jsx)("p",{children:"Please enter a valid amount (1-5)."})]})},g=a(10),y=a.n(g),H=function(e){var t=Object(r.useContext)(m),a="".concat(e.price.toFixed(2)," z\u0142");return Object(s.jsxs)("li",{className:y.a.pizza,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:e.name}),Object(s.jsx)("div",{className:y.a.description,children:e.description}),Object(s.jsx)("div",{className:y.a.price,children:a})]}),Object(s.jsx)("div",{children:Object(s.jsx)(I,{onAddToCart:function(a){t.addItem({id:e.id,name:e.name,amount:a,price:e.price})}})})]})},k=a(18),w=a.n(k),P=[{id:"p1",name:"Margherita",description:"tomato sauce, mozarella, fresh basil",price:19.9},{id:"p2",name:"Capriccosa",description:"tomato sauce, mozarella, mushrooms, tomatoes, black olives",price:22.9},{id:"p3",name:"Salame",description:"tomato sauce, mozarella, salami pepperoni",price:24.9},{id:"p4",name:"Bacon",description:"tomato sauce, mozarella, tomatoes, bacon, black olives",price:24.9},{id:"p5",name:"Hawai",description:"tomato sauce, mozarella, ham, pineapple",price:24.9},{id:"p6",name:"Scampi",description:"tomato sauce, mozarella, tomatoes, shrimps, black olives, red onion",price:26.9},{id:"p7",name:"Broccoli",description:"tomato sauce, mozarella, tomatoes, broccoli, red pepper, black olives, red onion",price:22.9},{id:"p8",name:"Vegetariana",description:"tomato sauce, mozarella, tomatoes, red pepper, yellow pepper, black olives, red onion, parmesan",price:22.9},{id:"p9",name:"Picante",description:"tomato sauce, mozarella, salami pepperoni, red pepper, chilli pepper",price:24.9}],B=function(){var e=P.map((function(e){return Object(s.jsx)(H,{id:e.id,name:e.name,description:e.description,price:e.price,url:e.url},e.id)}));return Object(s.jsx)("section",{className:w.a.pizzas,children:Object(s.jsx)(_,{children:Object(s.jsx)("ul",{children:e})})})},M=a(19),F=a.n(M),D=function(){return Object(s.jsxs)("section",{className:F.a.summary,children:[Object(s.jsx)("h2",{children:"Delicious italian stone-baked Neapolitan pizzas delivered to your home"}),Object(s.jsx)("p",{children:"All our pizzas are made by experienced chefs. We use only high-quality ingredients!"})]})},S=function(){return Object(s.jsxs)(o.a.Fragment,{children:[Object(s.jsx)(D,{}),Object(s.jsx)(B,{})]})},E=a(11),R=a.n(E),T=function(e){return Object(s.jsx)("div",{className:R.a.backdrop,onClick:e.onHideCart})},V=function(e){return Object(s.jsx)("div",{className:R.a.modal,children:Object(s.jsx)("div",{className:R.a.content,children:e.children})})},J=document.getElementById("overlays"),Y=function(e){return Object(s.jsxs)(o.a.Fragment,{children:[i.a.createPortal(Object(s.jsx)(T,{onHideCart:e.onHideCart}),J),i.a.createPortal(Object(s.jsx)(V,{children:e.children}),J)]})},G=a(4),K=a.n(G),q=function(e){var t="$".concat(e.price.toFixed(2));return Object(s.jsxs)("li",{className:K.a["cart-item"],children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:e.name}),Object(s.jsxs)("div",{className:K.a.summary,children:[Object(s.jsx)("span",{className:K.a.price,children:t}),Object(s.jsxs)("span",{className:K.a.amount,children:["x ",e.amount]})]})]}),Object(s.jsxs)("div",{className:K.a.actions,children:[Object(s.jsx)("button",{onClick:e.onRemove,children:"\u2212"}),Object(s.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},L=a(5),Q=a.n(L),U=function(e){var t=Object(r.useContext)(m),a="".concat(t.totalAmount.toFixed(2)," z\u0142"),n=t.items.length>0,i=function(e){t.removeItem(e)},c=function(e){t.addItem(Object(f.a)(Object(f.a)({},e),{},{amount:1}))},o=Object(s.jsx)("ul",{className:Q.a["cart-items"],children:t.items.map((function(e){return Object(s.jsx)(q,{name:e.name,amount:e.amount,price:e.price,onRemove:i.bind(null,e.id),onAdd:c.bind(null,e)},e.id)}))});return Object(s.jsxs)(Y,{onHideCart:e.onHideCart,children:[o,Object(s.jsxs)("div",{className:Q.a.total,children:[Object(s.jsx)("span",{children:"Total Amount"}),Object(s.jsx)("span",{children:a})]}),Object(s.jsxs)("div",{className:Q.a.actions,children:[Object(s.jsx)("button",{className:Q.a["button--alt"],onClick:e.onHideCart,children:"Close"}),n&&Object(s.jsx)("button",{className:Q.a.button,children:"Order"})]})]})},W=a(14),X={items:[],totalAmount:0},Z=function(e,t){if("ADD"===t.type){var a,n=e.totalAmount+t.item.price*t.item.amount,i=e.items.findIndex((function(e){return e.id===t.item.id})),c=e.items[i];if(c){var r=Object(f.a)(Object(f.a)({},c),{},{amount:c.amount+t.item.amount});(a=Object(W.a)(e.items))[i]=r}else a=e.items.concat(t.item);return{items:a,totalAmount:n}}if("REMOVE"===t.type){var o,s=e.items.findIndex((function(e){return e.id===t.id})),l=e.items[s],m=e.totalAmount-l.price;if(1===l.amount)o=e.items.filter((function(e){return e.id!==t.id}));else{var d=Object(f.a)(Object(f.a)({},l),{},{amount:l.amount-1});(o=Object(W.a)(e.items))[s]=d}return{items:o,totalAmount:m}}return X},$=function(e){var t=Object(r.useReducer)(Z,X),a=Object(c.a)(t,2),n=a[0],i=a[1],o={items:n.items,totalAmount:n.totalAmount,addItem:function(e){i({type:"ADD",item:e})},removeItem:function(e){i({type:"REMOVE",id:e})}};return Object(s.jsx)(m.Provider,{value:o,children:e.children})};var ee=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(s.jsxs)($,{children:[a&&Object(s.jsx)(U,{onHideCart:function(){n(!1)}}),Object(s.jsx)(O,{onShowCart:function(){n(!0)}}),Object(s.jsx)("main",{children:Object(s.jsx)(S,{})})]})};i.a.render(Object(s.jsx)(ee,{}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.dda36dd3.chunk.js.map